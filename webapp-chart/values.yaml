# Default values for webapp.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 3

# Name overrides
nameOverride: ""
fullnameOverride: ""

image:
  repository: nginx
  tag: "1.27-alpine"
  pullPolicy: IfNotPresent

# NGINX Prometheus Exporter sidecar
exporter:
  repository: nginx/nginx-prometheus-exporter
  tag: "1.3.0"
  pullPolicy: IfNotPresent

service:
  type: LoadBalancer
  port: 8080
  targetPort: 80
  metricsPort: 9113

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 64Mi

livenessProbe:
  httpGet:
    path: /
    port: 80
  initialDelaySeconds: 10
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /
    port: 80
  initialDelaySeconds: 5
  periodSeconds: 5

# ServiceMonitor for Prometheus
# NOTE: Requires Prometheus Operator CRDs to be installed first
# Install monitoring stack before enabling this
serviceMonitor:
  enabled: false
  interval: 30s

# Grafana Dashboard
# NOTE: Requires Grafana with dashboard sidecar enabled
# Dashboard automatically uses the default Prometheus datasource
grafanaDashboard:
  enabled: false
  namespace: monitoring

# Service Account
serviceAccount:
  create: false
  name: ""

# Pod annotations
podAnnotations: {}

# Pod security context
securityContext: {}

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity: {}
